{"ast":null,"code":"//interface TodoModel {\n//    id: string;\n//    dwsOrderStatus: string | null;\n//    text: string | null;\n//    completed: boolean | null;\n//}\nexport const useApiClient = () => {\n  const baseUrl = \"https://localhost:7192/\";\n  const todoApriUrl = baseUrl + \"Todo\";\n\n  async function getTodos() {\n    return sentHttpRequest(\"GET\", todoApriUrl);\n  }\n\n  async function addTodos() {\n    return sentHttpRequest(\"POST\", todoApriUrl);\n  }\n\n  async function sentHttpRequest(verb, url, payload) {\n    var request = new Request(url, {\n      method: verb,\n      body: payload ? undefined : JSON.stringify(payload),\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const fetchResponse = await fetch(request);\n    const response = {\n      body: await fetchResponse.json(),\n      ok: fetchResponse.ok,\n      status: fetchResponse.status\n    };\n\n    try {\n      if (!response.ok) {\n        if (response.status !== 422 && response.status !== 404) {\n          console.log(\"Error on api\");\n        }\n      }\n    } catch (error) {\n      throw error;\n    }\n\n    return response;\n  }\n\n  return {\n    getTodos,\n    addTodos\n  };\n};","map":{"version":3,"sources":["C:/Dev/TTT/TodoWebAppReact/src/Services/api/apiClient.ts"],"names":["useApiClient","baseUrl","todoApriUrl","getTodos","sentHttpRequest","addTodos","verb","url","payload","request","Request","method","body","undefined","JSON","stringify","headers","Accept","fetchResponse","fetch","response","json","ok","status","console","log","error"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;AAUA,OAAO,MAAMA,YAAY,GAAG,MAAM;AAE9B,QAAMC,OAAO,GAAG,yBAAhB;AACA,QAAMC,WAAW,GAAGD,OAAO,GAAG,MAA9B;;AAGA,iBAAeE,QAAf,GAA8D;AAC1D,WAAOC,eAAe,CAClB,KADkB,EAElBF,WAFkB,CAAtB;AAIH;;AAED,iBAAeG,QAAf,GAA0B;AACtB,WAAOD,eAAe,CAClB,MADkB,EAElBF,WAFkB,CAAtB;AAIH;;AAED,iBAAeE,eAAf,CACIE,IADJ,EAEIC,GAFJ,EAGIC,OAHJ,EAI4B;AACxB,QAAIC,OAAO,GAAG,IAAIC,OAAJ,CAAYH,GAAZ,EAAiB;AAC3BI,MAAAA,MAAM,EAAEL,IADmB;AAE3BM,MAAAA,IAAI,EAAEJ,OAAO,GAAGK,SAAH,GAAeC,IAAI,CAACC,SAAL,CAAeP,OAAf,CAFD;AAG3BQ,MAAAA,OAAO,EAAE;AACLC,QAAAA,MAAM,EAAE,kBADH;AAEL,wBAAgB;AAFX;AAHkB,KAAjB,CAAd;AASA,UAAMC,aAAa,GAAG,MAAMC,KAAK,CAACV,OAAD,CAAjC;AAEA,UAAMW,QAAQ,GAAG;AACbR,MAAAA,IAAI,EAAE,MAAMM,aAAa,CAACG,IAAd,EADC;AAEbC,MAAAA,EAAE,EAAEJ,aAAa,CAACI,EAFL;AAGbC,MAAAA,MAAM,EAAEL,aAAa,CAACK;AAHT,KAAjB;;AAMA,QAAI;AACA,UAAI,CAACH,QAAQ,CAACE,EAAd,EAAkB;AACd,YAAIF,QAAQ,CAACG,MAAT,KAAoB,GAApB,IAA2BH,QAAQ,CAACG,MAAT,KAAoB,GAAnD,EAAwD;AACpDC,UAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACH;AACJ;AACJ,KAND,CAME,OAAOC,KAAP,EAAc;AACZ,YAAMA,KAAN;AACH;;AAED,WAAON,QAAP;AACH;;AAED,SAAO;AACHjB,IAAAA,QADG;AAEHE,IAAAA;AAFG,GAAP;AAIH,CA3DM","sourcesContent":["\r\n//interface TodoModel {\r\n//    id: string;\r\n//    dwsOrderStatus: string | null;\r\n//    text: string | null;\r\n//    completed: boolean | null;\r\n//}\r\n\r\nimport { TodoModel } from \"../../types/apiClient\";\r\n\r\nexport interface HttpResponse<T> {\r\n    readonly ok: boolean;\r\n    readonly status: number;\r\n    readonly body: T | null;\r\n}\r\n\r\nexport const useApiClient = () => {\r\n     \r\n    const baseUrl = \"https://localhost:7192/\";\r\n    const todoApriUrl = baseUrl + \"Todo\";\r\n\r\n\r\n    async function getTodos(): Promise<HttpResponse<TodoModel[]>> {\r\n        return sentHttpRequest<TodoModel[]>(\r\n            \"GET\",\r\n            todoApriUrl\r\n        );\r\n    }\r\n\r\n    async function addTodos() {\r\n        return sentHttpRequest(\r\n            \"POST\",\r\n            todoApriUrl\r\n        );\r\n    }\r\n\r\n    async function sentHttpRequest<T>(\r\n        verb: string,\r\n        url: string,\r\n        payload?: any\r\n    ): Promise<HttpResponse<T>> {\r\n        var request = new Request(url, {\r\n            method: verb,\r\n            body: payload ? undefined : JSON.stringify(payload),\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n        });\r\n\r\n        const fetchResponse = await fetch(request);\r\n\r\n        const response = {\r\n            body: await fetchResponse.json(),\r\n            ok: fetchResponse.ok,\r\n            status: fetchResponse.status,\r\n        } as HttpResponse<T>;\r\n\r\n        try {\r\n            if (!response.ok) {\r\n                if (response.status !== 422 && response.status !== 404) {\r\n                    console.log(\"Error on api\");\r\n                }\r\n            }\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n\r\n        return response;\r\n    }\r\n\r\n    return {\r\n        getTodos,\r\n        addTodos\r\n    };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}